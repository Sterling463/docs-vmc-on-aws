

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a load balancer &mdash; &lt;OFFICIAL PROEJCT NAME&gt; 1.8.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/bespoke.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/bolditalic.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> <OFFICIAL PROEJCT NAME>
          

          
          </a>

          
            
            
              <div class="version">
                1.8.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../template-user-guide/index.html">Rackspace &lt;PRODUCT NAME&gt; vN User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Rackspace &lt;PRODUCT NAME&gt; API &lt;version&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../template-simple-project/index.html">Rackspace &lt;PRODUCT NAME&gt; &lt;Type of Doc&gt;</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html"><OFFICIAL PROEJCT NAME></a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Creating a load balancer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/template-api-guide/getting-started/examples/create-load-balancer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="create-load-balancer"></span><div class="section" id="creating-a-load-balancer">
<h1>Creating a load balancer<a class="headerlink" href="#creating-a-load-balancer" title="Permalink to this headline">Â¶</a></h1>
<p>Cloud Load Balancers make it easy to develop scalable, high-availability
configurations in the cloud. By leveraging Cloud Load Balancers, you
are provided with a dedicated IP address that you can use to reach
your service.</p>
<p>You use the create load balancer API operation (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/loadbalancers</span></code>)
to create a load balancer with the configuration that you specify.</p>
<p>In this case, assume that you want to create a load balancer with the
following configuration:</p>
<ul>
<li><p class="first">Protocol = HTTP(80)</p>
</li>
<li><p class="first">Virtual IP type = PUBLIC</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When your resources reside in the same region as your load balancer,
devices are in close proximity to each other and can take
advantage of ServiceNet connectivity (by specifying Virtual IP Type =
SERVICENET) for free data transfer between services.</p>
</div>
</li>
<li><p class="first">Nodes = Enter the IP address that you recorded for the first cloud
server that you created in
<a class="reference internal" href="../using-cloud-load-balancers.html#create-cloud-servers"><span class="std std-ref">Creating cloud servers</span></a>:</p>
<p><code class="docutils literal notranslate"><span class="pre">node</span> <span class="pre">address=&quot;&lt;ipAddressFirstCloudServer&gt;&quot;</span> <span class="pre">port=&quot;80&quot;</span>
<span class="pre">condition=&quot;ENABLED&quot;/</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although you could add the nodes for both of your cloud servers in
this operation, you will instead add the node for your second server by
using the separate add node operation.</p>
</div>
</li>
</ul>
<p>The following examples show the cURL requests for creating a load balancer with
the preceding configuration.</p>
<p><strong>Example: cURL create load balancer request: XML</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">d</span> \
<span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; ?&gt;</span>
<span class="o">&lt;</span><span class="n">loadBalancer</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://docs.openstack.org/loadbalancers/api/v1.0&quot;</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;a-new-loadbalancer&quot;</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;80&quot;</span>
    <span class="n">protocol</span><span class="o">=</span><span class="s2">&quot;HTTP&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">virtualIps</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">virtualIp</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;PUBLIC&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">virtualIps</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">nodes</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">node</span> <span class="n">address</span><span class="o">=</span><span class="s2">&quot;&lt;IP address of FIRST cloud server&gt;&quot;</span> <span class="n">port</span><span class="o">=</span><span class="s2">&quot;80&quot;</span> <span class="n">condition</span><span class="o">=</span><span class="s2">&quot;ENABLED&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">nodes</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">loadBalancer</span><span class="o">&gt;</span><span class="s1">&#39; </span><span class="se">\</span>
<span class="s1">-H &quot;X-Auth-Token: $AUTH_TOKEN&quot; </span><span class="se">\</span>
<span class="s1">-H &quot;X-Project-Id: $TENANT_ID&quot; </span><span class="se">\</span>
<span class="s1">-H &quot;Content-Type: application/xml&quot; </span><span class="se">\</span>
<span class="s1">-H &quot;Accept: application/xml&quot; </span><span class="se">\</span>
<span class="s1">&quot;$API_ENDPOINT/loadbalancers&quot; | ppxml</span>
</pre></div>
</div>
<p><strong>Example: cURL create load balancer request: JSON</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">d</span> \
<span class="s1">&#39;{</span>
    <span class="s2">&quot;loadBalancer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;a-new-loadbalancer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
        <span class="s2">&quot;protocol&quot;</span><span class="p">:</span> <span class="s2">&quot;HTTP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;virtualIps&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;PUBLIC&quot;</span>
            <span class="p">}</span>
         <span class="p">],</span>
        <span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;IP address of FIRST cloud server&gt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
                <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span><span class="s1">&#39; </span><span class="se">\</span>
<span class="s1">-H &quot;X-Auth-Token: $AUTH_TOKEN&quot; </span><span class="se">\</span>
<span class="s1">-H &quot;X-Project-Id: $TENANT_ID&quot; </span><span class="se">\</span>
<span class="s1">-H &quot;Content-Type: application/json&quot; </span><span class="se">\</span>
<span class="s1">&quot;$API_ENDPOINT/loadbalancers&quot; | python -m json.tool</span>
</pre></div>
</div>
<p>The following examples show the responses for creating a load balancer.</p>
<p><strong>Example: Create load balancer response: XML</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;loadBalancer xmlns=&quot;http://docs.openstack.org/loadbalancers/api/v1.0&quot; id=&quot;5355&quot; name=&quot;a-new-loadbalancer&quot;
    algorithm=&quot;RANDOM&quot; protocol=&quot;HTTP&quot; port=&quot;80&quot; status=&quot;BUILD&quot;&gt;
    &lt;virtualIps&gt;
        &lt;virtualIp id=&quot;1163&quot; address=&quot;50.56.166.100&quot; ipVersion=&quot;IPV4&quot; type=&quot;PUBLIC&quot;/&gt;
        &lt;virtualIp id=&quot;9002499&quot; address=&quot;2001:4800:7901:0000:9c92:6fca:0000:0001&quot; ipVersion=&quot;IPV6&quot; type=&quot;PUBLIC&quot;/&gt;
    &lt;/virtualIps&gt;
    &lt;nodes&gt;
        &lt;node id=&quot;44615&quot; address=&quot;50.56.207.146&quot; port=&quot;80&quot; condition=&quot;ENABLED&quot; status=&quot;ONLINE&quot; weight=&quot;1&quot;/&gt;
    &lt;/nodes&gt;
    &lt;cluster name=&quot;ztm-n02.lbaas.dfw1.rackspace.net&quot;/&gt;
    &lt;created time=&quot;2012-02-29T18:20:44Z&quot;/&gt;
    &lt;updated time=&quot;2012-02-29T18:20:44Z&quot;/&gt;
    &lt;connectionLogging enabled=&quot;false&quot;/&gt;
    &lt;sourceAddresses ipv4Servicenet=&quot;10.183.250.133&quot; ipv4Public=&quot;174.143.139.133&quot; ipv6Public=&quot;2001:4800:7901::2/64&quot;/&gt;
&lt;/loadBalancer&gt;
</pre></div>
</div>
<p><strong>Example: Create load balancer response: JSON</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;loadBalancer&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;a-new-loadbalancer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">5355</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span>
        <span class="s2">&quot;protocol&quot;</span><span class="p">:</span><span class="s2">&quot;HTTP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;algorithm&quot;</span><span class="p">:</span><span class="s2">&quot;RANDOM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;BUILD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cluster&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;ztm-n02.lbaas.dfw1.rackspace.net&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;nodes&quot;</span><span class="p">:[{</span>
                <span class="s2">&quot;address&quot;</span><span class="p">:</span><span class="s2">&quot;50.56.207.146&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">44615</span><span class="p">,</span>
                <span class="s2">&quot;port&quot;</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ONLINE&quot;</span><span class="p">,</span>
                <span class="s2">&quot;condition&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
                <span class="s2">&quot;weight&quot;</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;virtualIps&quot;</span><span class="p">:[{</span>
                <span class="s2">&quot;address&quot;</span><span class="p">:</span><span class="s2">&quot;50.56.166.100&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">1163</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;PUBLIC&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ipVersion&quot;</span><span class="p">:</span><span class="s2">&quot;IPV4&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;address&quot;</span><span class="p">:</span><span class="s2">&quot;2001:4800:7901:0000:9c92:6fca:0000:0001&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">9002499</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;PUBLIC&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ipVersion&quot;</span><span class="p">:</span><span class="s2">&quot;IPV6&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;created&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span><span class="s2">&quot;2012-02-29T18:20:44Z&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;updated&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span><span class="s2">&quot;2012-02-29T18:20:44Z&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;connectionLogging&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;enabled&quot;</span><span class="p">:</span><span class="n">false</span>
        <span class="p">},</span>
        <span class="s2">&quot;sourceAddresses&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;ipv6Public&quot;</span><span class="p">:</span><span class="s2">&quot;2001:4800:7901::2/64&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ipv4Servicenet&quot;</span><span class="p">:</span><span class="s2">&quot;10.183.250.133&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ipv4Public&quot;</span><span class="p">:</span><span class="s2">&quot;174.143.139.133&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These examples show that one node (with IP address 50.56.166.100) has
been added to your new load balancer with an ID of 5355. You will need
the load balancer ID for the retrieve load balancer details operation in the
next section, and you should supply this value wherever you see the
<code class="docutils literal notranslate"><span class="pre">load_balancer_id</span></code> placeholder in the examples in this guide.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright &lt;YEAR&gt;, Rackspace
      Last updated on Mar 02, 2020.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>